<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Product">
	
	<insert id="insertProduct" parameterType="Product" useGeneratedKeys="true" keyProperty="product_no">
		<selectKey keyProperty="product_no" resultType="int" order="BEFORE">
			select max(product_no)+1 from product
		</selectKey>
		<![CDATA[
		     insert into product values(${product_no},#{product_name},#{product_price},#{product_availavility},#{product_amount},
		     #{product_comment},sysdate,default)
	     ]]>
	</insert>
	
	<insert id="insertProductFile" parameterType="ProductFile">		
		<![CDATA[
		     insert into product_file values(${product_no},#{product_original_file},#{product_rename_file})
	     ]]>
	</insert>
	
</mapper>
